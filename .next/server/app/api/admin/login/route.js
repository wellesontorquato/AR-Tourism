"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/login/route";
exports.ids = ["app/api/admin/login/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Flogin%2Froute&page=%2Fapi%2Fadmin%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Flogin%2Froute&page=%2Fapi%2Fadmin%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_welleson_Documents_ar_tourism_ar_tourism_mvp_app_api_admin_login_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/login/route.ts */ \"(rsc)/./app/api/admin/login/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/login/route\",\n        pathname: \"/api/admin/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/login/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\welleson\\\\Documents\\\\ar tourism\\\\ar-tourism-mvp\\\\app\\\\api\\\\admin\\\\login\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_welleson_Documents_ar_tourism_ar_tourism_mvp_app_api_admin_login_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/login/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmxvZ2luJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRmxvZ2luJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZsb2dpbiUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN3ZWxsZXNvbiU1Q0RvY3VtZW50cyU1Q2FyJTIwdG91cmlzbSU1Q2FyLXRvdXJpc20tbXZwJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUN3ZWxsZXNvbiU1Q0RvY3VtZW50cyU1Q2FyJTIwdG91cmlzbSU1Q2FyLXRvdXJpc20tbXZwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM0QztBQUN6SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FyLXRvdXJpc20tbXZwLz80YTlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHdlbGxlc29uXFxcXERvY3VtZW50c1xcXFxhciB0b3VyaXNtXFxcXGFyLXRvdXJpc20tbXZwXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcbG9naW5cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL2xvZ2luL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vbG9naW5cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL2xvZ2luL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcd2VsbGVzb25cXFxcRG9jdW1lbnRzXFxcXGFyIHRvdXJpc21cXFxcYXItdG91cmlzbS1tdnBcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxsb2dpblxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWRtaW4vbG9naW4vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Flogin%2Froute&page=%2Fapi%2Fadmin%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/login/route.ts":
/*!**************************************!*\
  !*** ./app/api/admin/login/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\nconst runtime = \"nodejs\";\nasync function POST(req) {\n    const body = await req.json().catch(()=>({}));\n    const username = String(body?.username || \"\");\n    const password = String(body?.password || \"\");\n    const creds = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getAdminCredentials)();\n    if (username !== creds.user || password !== creds.pass) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"Credenciais inv\\xe1lidas\"\n        }, {\n            status: 401\n        });\n    }\n    const token = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.createSessionToken)(username);\n    (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.setAdminSessionCookie)(token);\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        ok: true\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL2xvZ2luL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFLdkI7QUFFYixNQUFNSSxVQUFVLFNBQVM7QUFFekIsZUFBZUMsS0FBS0MsR0FBWTtJQUNyQyxNQUFNQyxPQUFPLE1BQU1ELElBQUlFLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU8sRUFBQztJQUM1QyxNQUFNQyxXQUFXQyxPQUFPSixNQUFNRyxZQUFZO0lBQzFDLE1BQU1FLFdBQVdELE9BQU9KLE1BQU1LLFlBQVk7SUFFMUMsTUFBTUMsUUFBUVgsOERBQW1CQTtJQUVqQyxJQUFJUSxhQUFhRyxNQUFNQyxJQUFJLElBQUlGLGFBQWFDLE1BQU1FLElBQUksRUFBRTtRQUN0RCxPQUFPZixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUFFUSxJQUFJO1lBQU9DLE9BQU87UUFBd0IsR0FDNUM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0lBRUEsTUFBTUMsUUFBUWxCLDZEQUFrQkEsQ0FBQ1M7SUFDakNQLGdFQUFxQkEsQ0FBQ2dCO0lBRXRCLE9BQU9uQixxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO1FBQUVRLElBQUk7SUFBSztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FyLXRvdXJpc20tbXZwLy4vYXBwL2FwaS9hZG1pbi9sb2dpbi9yb3V0ZS50cz9mNDRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZVNlc3Npb25Ub2tlbixcclxuICBnZXRBZG1pbkNyZWRlbnRpYWxzLFxyXG4gIHNldEFkbWluU2Vzc2lvbkNvb2tpZSxcclxufSBmcm9tIFwiQC9saWIvYXV0aFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSBcIm5vZGVqc1wiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XHJcbiAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XHJcbiAgY29uc3QgdXNlcm5hbWUgPSBTdHJpbmcoYm9keT8udXNlcm5hbWUgfHwgXCJcIik7XHJcbiAgY29uc3QgcGFzc3dvcmQgPSBTdHJpbmcoYm9keT8ucGFzc3dvcmQgfHwgXCJcIik7XHJcblxyXG4gIGNvbnN0IGNyZWRzID0gZ2V0QWRtaW5DcmVkZW50aWFscygpO1xyXG5cclxuICBpZiAodXNlcm5hbWUgIT09IGNyZWRzLnVzZXIgfHwgcGFzc3dvcmQgIT09IGNyZWRzLnBhc3MpIHtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBvazogZmFsc2UsIGVycm9yOiBcIkNyZWRlbmNpYWlzIGludsOhbGlkYXNcIiB9LFxyXG4gICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0b2tlbiA9IGNyZWF0ZVNlc3Npb25Ub2tlbih1c2VybmFtZSk7XHJcbiAgc2V0QWRtaW5TZXNzaW9uQ29va2llKHRva2VuKTtcclxuXHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZVNlc3Npb25Ub2tlbiIsImdldEFkbWluQ3JlZGVudGlhbHMiLCJzZXRBZG1pblNlc3Npb25Db29raWUiLCJydW50aW1lIiwiUE9TVCIsInJlcSIsImJvZHkiLCJqc29uIiwiY2F0Y2giLCJ1c2VybmFtZSIsIlN0cmluZyIsInBhc3N3b3JkIiwiY3JlZHMiLCJ1c2VyIiwicGFzcyIsIm9rIiwiZXJyb3IiLCJzdGF0dXMiLCJ0b2tlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/login/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAdminSessionCookie: () => (/* binding */ clearAdminSessionCookie),\n/* harmony export */   createSessionToken: () => (/* binding */ createSessionToken),\n/* harmony export */   getAdminCredentials: () => (/* binding */ getAdminCredentials),\n/* harmony export */   getAdminSession: () => (/* binding */ getAdminSession),\n/* harmony export */   isAdminAuthedServer: () => (/* binding */ isAdminAuthedServer),\n/* harmony export */   setAdminSessionCookie: () => (/* binding */ setAdminSessionCookie),\n/* harmony export */   verifySessionToken: () => (/* binding */ verifySessionToken)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst COOKIE_NAME = \"ar_admin_session\";\nfunction getSecret() {\n    // IMPORTANTE: defina no .env em produção\n    // SESSION_SECRET=\"uma_string_grande_e_unica\"\n    return process.env.SESSION_SECRET || \"dev-secret-change-me\";\n}\nfunction sign(payload) {\n    // retorna hex\n    return crypto__WEBPACK_IMPORTED_MODULE_1___default().createHmac(\"sha256\", getSecret()).update(payload).digest(\"hex\");\n}\nfunction createSessionToken(user) {\n    const issuedAt = Date.now();\n    // token format: user.issuedAt.sigHex\n    const payload = `${user}.${issuedAt}`;\n    const sigHex = sign(payload);\n    return `${payload}.${sigHex}`;\n}\nfunction verifySessionToken(token) {\n    if (!token) return null;\n    const parts = token.split(\".\");\n    if (parts.length !== 3) return null;\n    const [user, issuedAtStr, sigHex] = parts;\n    if (!user || !issuedAtStr || !sigHex) return null;\n    if (!/^\\d+$/.test(issuedAtStr)) return null; // issuedAt só dígitos\n    if (!/^[0-9a-f]+$/i.test(sigHex)) return null; // assinatura hex\n    const payload = `${user}.${issuedAtStr}`;\n    const expectedHex = sign(payload);\n    // evita timing attacks (comparação constante)\n    // como ambos são hex, convertemos para bytes (32 bytes)\n    let ok = false;\n    try {\n        const a = Buffer.from(expectedHex, \"hex\");\n        const b = Buffer.from(sigHex, \"hex\");\n        ok = a.length === b.length && crypto__WEBPACK_IMPORTED_MODULE_1___default().timingSafeEqual(new Uint8Array(a), new Uint8Array(b));\n    } catch  {\n        return null;\n    }\n    if (!ok) return null;\n    const issuedAt = Number(issuedAtStr);\n    if (!Number.isFinite(issuedAt)) return null;\n    // expira em 7 dias\n    const maxAgeMs = 7 * 24 * 60 * 60 * 1000;\n    if (Date.now() - issuedAt > maxAgeMs) return null;\n    return {\n        user,\n        issuedAt\n    };\n}\nfunction getAdminSession() {\n    const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(COOKIE_NAME)?.value;\n    if (!token) return null;\n    return verifySessionToken(token);\n}\nfunction setAdminSessionCookie(token) {\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().set(COOKIE_NAME, token, {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        path: \"/\",\n        maxAge: 60 * 60 * 24 * 7 // 7 dias\n    });\n}\nfunction clearAdminSessionCookie() {\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().set(COOKIE_NAME, \"\", {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        path: \"/\",\n        maxAge: 0\n    });\n}\nfunction getAdminCredentials() {\n    return {\n        user: process.env.ADMIN_USER || \"admin\",\n        pass: process.env.ADMIN_PASS || \"admin\"\n    };\n}\nfunction isAdminAuthedServer() {\n    return Boolean(getAdminSession());\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZCxPQUFPO1FBQ0xsQyxNQUFNVCxRQUFRQyxHQUFHLENBQUMyQyxVQUFVLElBQUk7UUFDaENDLE1BQU03QyxRQUFRQyxHQUFHLENBQUM2QyxVQUFVLElBQUk7SUFDbEM7QUFDRjtBQUVPLFNBQVNDO0lBQ2QsT0FBT0MsUUFBUWhCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXItdG91cmlzbS1tdnAvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvb2tpZXMgfSBmcm9tIFwibmV4dC9oZWFkZXJzXCI7XHJcbmltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xyXG5cclxuY29uc3QgQ09PS0lFX05BTUUgPSBcImFyX2FkbWluX3Nlc3Npb25cIjtcclxuXHJcbnR5cGUgQWRtaW5TZXNzaW9uID0ge1xyXG4gIHVzZXI6IHN0cmluZztcclxuICBpc3N1ZWRBdDogbnVtYmVyO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0U2VjcmV0KCkge1xyXG4gIC8vIElNUE9SVEFOVEU6IGRlZmluYSBubyAuZW52IGVtIHByb2R1w6fDo29cclxuICAvLyBTRVNTSU9OX1NFQ1JFVD1cInVtYV9zdHJpbmdfZ3JhbmRlX2VfdW5pY2FcIlxyXG4gIHJldHVybiBwcm9jZXNzLmVudi5TRVNTSU9OX1NFQ1JFVCB8fCBcImRldi1zZWNyZXQtY2hhbmdlLW1lXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZDogc3RyaW5nKSB7XHJcbiAgLy8gcmV0b3JuYSBoZXhcclxuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhtYWMoXCJzaGEyNTZcIiwgZ2V0U2VjcmV0KCkpLnVwZGF0ZShwYXlsb2FkKS5kaWdlc3QoXCJoZXhcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXNzaW9uVG9rZW4odXNlcjogc3RyaW5nKSB7XHJcbiAgY29uc3QgaXNzdWVkQXQgPSBEYXRlLm5vdygpO1xyXG4gIC8vIHRva2VuIGZvcm1hdDogdXNlci5pc3N1ZWRBdC5zaWdIZXhcclxuICBjb25zdCBwYXlsb2FkID0gYCR7dXNlcn0uJHtpc3N1ZWRBdH1gO1xyXG4gIGNvbnN0IHNpZ0hleCA9IHNpZ24ocGF5bG9hZCk7XHJcbiAgcmV0dXJuIGAke3BheWxvYWR9LiR7c2lnSGV4fWA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlTZXNzaW9uVG9rZW4odG9rZW46IHN0cmluZyk6IEFkbWluU2Vzc2lvbiB8IG51bGwge1xyXG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KFwiLlwiKTtcclxuICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgY29uc3QgW3VzZXIsIGlzc3VlZEF0U3RyLCBzaWdIZXhdID0gcGFydHM7XHJcblxyXG4gIGlmICghdXNlciB8fCAhaXNzdWVkQXRTdHIgfHwgIXNpZ0hleCkgcmV0dXJuIG51bGw7XHJcbiAgaWYgKCEvXlxcZCskLy50ZXN0KGlzc3VlZEF0U3RyKSkgcmV0dXJuIG51bGw7ICAgICAgICAgLy8gaXNzdWVkQXQgc8OzIGTDrWdpdG9zXHJcbiAgaWYgKCEvXlswLTlhLWZdKyQvaS50ZXN0KHNpZ0hleCkpIHJldHVybiBudWxsOyAgICAgICAgLy8gYXNzaW5hdHVyYSBoZXhcclxuXHJcbiAgY29uc3QgcGF5bG9hZCA9IGAke3VzZXJ9LiR7aXNzdWVkQXRTdHJ9YDtcclxuICBjb25zdCBleHBlY3RlZEhleCA9IHNpZ24ocGF5bG9hZCk7XHJcblxyXG4gIC8vIGV2aXRhIHRpbWluZyBhdHRhY2tzIChjb21wYXJhw6fDo28gY29uc3RhbnRlKVxyXG4gIC8vIGNvbW8gYW1ib3Mgc8OjbyBoZXgsIGNvbnZlcnRlbW9zIHBhcmEgYnl0ZXMgKDMyIGJ5dGVzKVxyXG4gIGxldCBvayA9IGZhbHNlO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhID0gQnVmZmVyLmZyb20oZXhwZWN0ZWRIZXgsIFwiaGV4XCIpO1xyXG4gICAgY29uc3QgYiA9IEJ1ZmZlci5mcm9tKHNpZ0hleCwgXCJoZXhcIik7XHJcbiAgICBvayA9IGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBjcnlwdG8udGltaW5nU2FmZUVxdWFsKG5ldyBVaW50OEFycmF5KGEpLCBuZXcgVWludDhBcnJheShiKSk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGlmICghb2spIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBpc3N1ZWRBdCA9IE51bWJlcihpc3N1ZWRBdFN0cik7XHJcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaXNzdWVkQXQpKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgLy8gZXhwaXJhIGVtIDcgZGlhc1xyXG4gIGNvbnN0IG1heEFnZU1zID0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XHJcbiAgaWYgKERhdGUubm93KCkgLSBpc3N1ZWRBdCA+IG1heEFnZU1zKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgcmV0dXJuIHsgdXNlciwgaXNzdWVkQXQgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkbWluU2Vzc2lvbigpOiBBZG1pblNlc3Npb24gfCBudWxsIHtcclxuICBjb25zdCB0b2tlbiA9IGNvb2tpZXMoKS5nZXQoQ09PS0lFX05BTUUpPy52YWx1ZTtcclxuICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcclxuICByZXR1cm4gdmVyaWZ5U2Vzc2lvblRva2VuKHRva2VuKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEFkbWluU2Vzc2lvbkNvb2tpZSh0b2tlbjogc3RyaW5nKSB7XHJcbiAgY29va2llcygpLnNldChDT09LSUVfTkFNRSwgdG9rZW4sIHtcclxuICAgIGh0dHBPbmx5OiB0cnVlLFxyXG4gICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXHJcbiAgICBzYW1lU2l0ZTogXCJsYXhcIixcclxuICAgIHBhdGg6IFwiL1wiLFxyXG4gICAgbWF4QWdlOiA2MCAqIDYwICogMjQgKiA3IC8vIDcgZGlhc1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBZG1pblNlc3Npb25Db29raWUoKSB7XHJcbiAgY29va2llcygpLnNldChDT09LSUVfTkFNRSwgXCJcIiwge1xyXG4gICAgaHR0cE9ubHk6IHRydWUsXHJcbiAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIixcclxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxyXG4gICAgcGF0aDogXCIvXCIsXHJcbiAgICBtYXhBZ2U6IDBcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkbWluQ3JlZGVudGlhbHMoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHVzZXI6IHByb2Nlc3MuZW52LkFETUlOX1VTRVIgfHwgXCJhZG1pblwiLFxyXG4gICAgcGFzczogcHJvY2Vzcy5lbnYuQURNSU5fUEFTUyB8fCBcImFkbWluXCJcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNBZG1pbkF1dGhlZFNlcnZlcigpIHtcclxuICByZXR1cm4gQm9vbGVhbihnZXRBZG1pblNlc3Npb24oKSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImNvb2tpZXMiLCJjcnlwdG8iLCJDT09LSUVfTkFNRSIsImdldFNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJTRVNTSU9OX1NFQ1JFVCIsInNpZ24iLCJwYXlsb2FkIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsImRpZ2VzdCIsImNyZWF0ZVNlc3Npb25Ub2tlbiIsInVzZXIiLCJpc3N1ZWRBdCIsIkRhdGUiLCJub3ciLCJzaWdIZXgiLCJ2ZXJpZnlTZXNzaW9uVG9rZW4iLCJ0b2tlbiIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJpc3N1ZWRBdFN0ciIsInRlc3QiLCJleHBlY3RlZEhleCIsIm9rIiwiYSIsIkJ1ZmZlciIsImZyb20iLCJiIiwidGltaW5nU2FmZUVxdWFsIiwiVWludDhBcnJheSIsIk51bWJlciIsImlzRmluaXRlIiwibWF4QWdlTXMiLCJnZXRBZG1pblNlc3Npb24iLCJnZXQiLCJ2YWx1ZSIsInNldEFkbWluU2Vzc2lvbkNvb2tpZSIsInNldCIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJwYXRoIiwibWF4QWdlIiwiY2xlYXJBZG1pblNlc3Npb25Db29raWUiLCJnZXRBZG1pbkNyZWRlbnRpYWxzIiwiQURNSU5fVVNFUiIsInBhc3MiLCJBRE1JTl9QQVNTIiwiaXNBZG1pbkF1dGhlZFNlcnZlciIsIkJvb2xlYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Flogin%2Froute&page=%2Fapi%2Fadmin%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwelleson%5CDocuments%5Car%20tourism%5Car-tourism-mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();